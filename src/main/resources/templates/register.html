<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrazione - App Padel</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéæ App Padel</h1>
            <p>Gestione partite tra sconosciuti</p>
        </div>

        <div class="auth-container" style="max-width: 600px; margin: 3rem auto; background: white; padding: 2.5rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <h2 style="text-align: center; margin-bottom: 2rem;">Crea un Nuovo Account</h2>

            <!-- Messaggi di errore -->
            <div th:if="${error}" class="alert alert-error" style="background: #f8d7da; border-left: 4px solid #dc3545; padding: 1rem; margin-bottom: 1.5rem; border-radius: 4px;">
                <p th:text="${error}" style="margin: 0; color: #721c24;"></p>
            </div>

            <!-- Form Registrazione -->
            <form method="post" th:action="@{/register}">
                <!-- Username -->
                <div class="form-group" style="margin-bottom: 1.5rem;">
                    <label for="username" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #333;">
                        üë§ Username *
                    </label>
                    <input 
                        type="text" 
                        id="username" 
                        name="username" 
                        required 
                        placeholder="Il tuo username unico"
                        style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px; font-size: 1rem; box-sizing: border-box;">
                    <small style="color: #666; font-size: 0.85rem;">Scegli un username univoco per identificarti</small>
                </div>

                <!-- Email -->
                <div class="form-group" style="margin-bottom: 1.5rem;">
                    <label for="email" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #333;">
                        üìß Email *
                    </label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        required 
                        placeholder="tua@email.com"
                        style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px; font-size: 1rem; box-sizing: border-box;">
                </div>

                <!-- Password -->
                <div class="form-group" style="margin-bottom: 1.5rem;">
                    <label for="password" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #333;">
                        üîí Password *
                    </label>
                    <input 
                        type="password" 
                        id="password" 
                        name="password" 
                        required 
                        placeholder="Scegli una password sicura"
                        style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px; font-size: 1rem; box-sizing: border-box;">
                </div>

                <!-- Nome e Cognome (2 colonne) -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem;">
                    <div class="form-group">
                        <label for="firstName" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #333;">
                            üìù Nome *
                        </label>
                        <input 
                            type="text" 
                            id="firstName" 
                            name="firstName" 
                            required 
                            placeholder="Mario"
                            style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px; font-size: 1rem; box-sizing: border-box;">
                    </div>

                    <div class="form-group">
                        <label for="lastName" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #333;">
                            üìù Cognome *
                        </label>
                        <input 
                            type="text" 
                            id="lastName" 
                            name="lastName" 
                            required 
                            placeholder="Rossi"
                            style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px; font-size: 1rem; box-sizing: border-box;">
                    </div>
                </div>

                <!-- Livello Dichiarato -->
                <div class="form-group" style="margin-bottom: 1.5rem;">
                    <label for="declaredLevel" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #333;">
                        üèÜ Livello di Gioco *
                    </label>
                    <select 
                        id="declaredLevel" 
                        name="declaredLevel" 
                        required
                        style="width: 100%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 6px; font-size: 1rem; box-sizing: border-box;">
                        <option value="">-- Seleziona il tuo livello --</option>
                        <option th:each="level : ${levels}" 
                                th:value="${level.name()}" 
                                th:text="${level.displayName}">
                            Livello
                        </option>
                    </select>
                    <small style="color: #666; font-size: 0.85rem;">
                        Il tuo livello auto-dichiarato. Verr√† aggiornato in base ai feedback ricevuti.
                    </small>
                </div>

                <!-- Informativa -->
                <div style="background: #e7f3ff; padding: 1rem; border-radius: 6px; margin-bottom: 1.5rem; border-left: 4px solid #0066cc;">
                    <p style="margin: 0; font-size: 0.9rem; color: #004085;">
                        ‚ÑπÔ∏è <strong>Nota:</strong> Dopo aver giocato partite, altri giocatori potranno 
                        valutare il tuo livello. La tua <em>abilit√† percepita</em> verr√† calcolata 
                        automaticamente dalla media dei feedback ricevuti.
                    </p>
                </div>

                <!-- Pulsante Registrazione -->
                <button 
                    type="submit" 
                    class="btn btn-success" 
                    style="width: 100%; padding: 1rem; font-size: 1.1rem; font-weight: 600; border-radius: 6px; cursor: pointer; background: #28a745; color: white; border: none;">
                    Registrati
                </button>
            </form>

            <!-- Link login -->
            <div style="margin-top: 2rem; text-align: center; padding-top: 1.5rem; border-top: 1px solid #eee;">
                <p style="color: #666; margin-bottom: 0.5rem;">Hai gi√† un account?</p>
                <a th:href="@{/login}" class="btn btn-secondary" style="display: inline-block; padding: 0.75rem 2rem; text-decoration: none; border-radius: 6px;">
                    Accedi
                </a>
            </div>
        </div>

        <footer style="margin-top: 3rem;">
            <p>App Padel - Progetto Ingegneria del Software 2025</p>
        </footer>
    </div>
</body>
</html>
